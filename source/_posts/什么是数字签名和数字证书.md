---
title: 什么是数字签名和数字证书
date: 2020-06-13 20:19:56
tags:
    - 安全知识
---

# 概念
>CA：Certificate Authority的缩写，也叫“证书授权中心”。

>CA 证书：顾名思义，就是CA颁发的证书。

<!--more-->

>证书信任链：证书之间的信任关系，是可以嵌套的。比如，C 信任 A1，A1 信任 A2，A2 信任 A3......这个叫做证书的信任链。只要你信任链上的头一个证书，那后续的证书，都是可以信任滴。
根证书：处于最顶上的树根位置的那个证书，就是“根证书”。除了根证书，其它证书都要依靠上一级的证书，来证明自己。那谁来证明“根证书”可靠捏？实际上，根证书自己证明自己是可靠滴（或者换句话说，根证书是不需要被证明滴）。

# 数字签名

>数字签名是一种类似写在纸上的普通的物理签名，但是使用了公钥加密领域的技术实现，用于鉴别数字信息的方法。


![数字签名原理](数字签名原理.jpg)

1.甲使用乙的公钥对明文进行加密，生成密文信息。
2.甲使用HASH算法对明文进行HASH运算，生成数字指纹。
3.甲使用自己的私钥对数字指纹进行加密，生成数字签名。
4.甲将密文信息和数字签名一起发送给乙。
5.乙使用甲的公钥对数字签名进行解密，得到数字指纹。
6.乙接收到甲的加密信息后，使用自己的私钥对密文信息进行解密，得到最初的明文。
7.乙使用HASH算法对还原出的明文用与甲所使用的相同HASH算法进行HASH运算，生成数字指纹。然后乙将生成的数字指纹与从甲得到的数字指纹进行比较，如果一致，乙接受明文；如果不一致，乙丢弃明文。

>从以上数字签名的加/解密过程中可以看出，数字签名技术不但证明了信息未被篡改，还证明了发送方的身份。数字签名和数字信封技术也可以组合使用。但是，数字签名技术也还有一个问题，获取到对方的公钥可能被篡改，并且无法发现。


# 数字证书

>数字证书是由权威机构CA证书授权中心发行的，能提供在Internet上进行身份验证的一种权威性电子文档。数字证书就是互联网通讯中标志通讯各方身份信息的一系列数据，提供了一种在Internet上验证您身份的方式，其作用类似于司机的驾驶执照或日常生活中的身份证。一般情况下证书中还包括密钥的有效时间，发证机关(CA)名称，该证书的序列号等信息，证书的格式遵循 ITUT X.509国际标准。

* 特点：

1.信息的保密性
>交易中的商务信息均有保密的要求。如信用卡的帐号和用户名被人知悉，就可能 被盗用，订货和付款的信息被竞争对手获悉，就可能丧失商机。因此在电子商务的信 息传播中一般均有加密的要求。

2.交易者身份的确定性
>网上交易的双方很可能素昧平生，相隔千里。要使交易成功首先要能确认对方的 身份，对商家要考虑客户端不能是骗子，而客户也会担心网上的商店不是一个玩弄欺 诈的黑店。因此能方便而可靠地确认对方身份是交易的前提。对于为顾客或用户开展 服务的银行、信用卡公司和销售商店，为了做到安全、保密、可靠地开展服务活动， 都要进行身份认证的工作。对有关的销售商店来说，他们对顾客所用的信用卡的号码 是不知道的，商店只能把信用卡的确认工作完全交给银行来完成。银行和信用卡公司 可以采用各种保密与识别方法，确认顾客的身份是否合法，同时还要防止发生拒付款 问题以及确认订货和订货收据信息等。

3.不可否认性
>由于商情的千变万化，交易一旦达成是不能被否认的。否则必然会损害一方的利 益。例如订购黄金，订货时金价较低，但收到订单后，金价上涨了，如收单方能否认 受到订单的实际时间，甚至否认收到订单的事实，则订货方就会蒙受损失。因此电子 交易通信过程的各个环节都必须是不可否认的。

4.不可修改性
>交易的文件是不可被修改的，如上例所举的订购黄金。供货单位在收到订单后， 发现金价大幅上涨了，如其能改动文件内容，将订购数1吨改为1克，则可大幅受益， 那么订货单位可能就会因此而蒙受损失。因此电子交易文件也要能做到不可修改，以 保障交易的严肃和公正。


我们可以使用数字证书，通过运用对称和非对称密码体制等密码技术建立起一套严密的身份认证系统，从而保证：信息除发送方和接收方外不被其它人窃取；信息在传输过程中不被篡改；发送方能够通过数字证书来确认接收方的身份；发送方对于自己的信息不能抵赖。


* 数字证书原理

![数字证书](数字证书.png)

>数字证书采用公钥体制，即利用一对互相匹配的密钥进行加密、解密。每个用户自己设定一把特定的仅为本人所知的私有密钥（私钥），用它进行解密和签名；同时设定一把公共密钥（公钥）并由本人公开，为一组用户所共享，用于加密和验证签名。当发送一份保密文件时，发送方使用接收方的公钥对数据加密，而接收方则使用自己的私钥解密，这样信息就可以安全无误地到达目的地了。通过数字的手段保证加 密过程是一个不可逆过程，即只有用私有密钥才能解密。在公开密钥密码体制中，常用的一种是RSA体制。其数学原理是将一个大数分解成两个质数的乘积，加密和解密用的是两个不同的密钥。即使已知明文、密文和加密密钥（公开密钥），想要推导出解密密钥（私密密钥），在计算上是不可能的。按现在的计算机技术水平，要破解目前采用的1024位RSA密钥，需要上千年的计算时间。公开密钥技术解决了密钥发布的管理问题，商户可以公开其公开密钥，而保留其私有密钥。购物者可以用人人皆知的公开密钥对发送的信息进行加密，安全地传送给商户，然后由商户用自己的私有密钥 进行解密。


* 几点疑惑：

1.假设数字证书被伪造了呢？
>答案：是的，传输中数字证书有可能被篡改。因此数字证书也是经过数字签名的，是不是感觉很绕貌似陷入了“鸡生蛋蛋生鸡”，我保证这是最后一个蛋- - ！上文说道数字签名的作用就是验证数据来源以及数据完整性！B收到邮件后可以先验证这份数字证书的可靠性，通过后再验证数字签名。

2.要是有1万个人要给B发邮件，难道B要保存1万份不同的CA公钥吗？
>答案：不需要，CA认证中心给可以给B一份“根证书”，里面存储CA公钥来验证所有CA分中心颁发的数字证书。CA中心是分叉树结构，类似于公安部->省公安厅->市级派出所，不管A从哪个CA分支机构申请的证书，B只要预存根证书就可以验证下级证书可靠性。

3.如何验证根证书可靠性？
>答案：无法验证。根证书是自验证证书，CA机构是获得社会绝对认可和有绝对权威的第三方机构，这一点保证了根证书的绝对可靠。如果根证书都有问题那么整个加密体系毫无意义。


所以数字证书是数字签名的基础，数字签名是数字证书的一种应用结果。

* 参考链接：

[数字签名和数字证书的原理解读(图文)](https://blog.csdn.net/qq_26566331/article/details/88185652)


